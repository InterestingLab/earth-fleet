import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

# Fake

## Description

`Fake` is mainly used to conveniently generate user-specified data, which is used as input for functional verification, testing, and performance testing of seatunnel.

:::note

Engine Supported and plugin name

* [x] Spark: Fake, FakeStream
* [x] Flink: FakeSource, FakeSourceStream
    * Flink `Fake Source` is mainly used to automatically generate data. The data has only two columns. The first column is of `String type` and the content is a random one from `["Gary", "Ricky Huo", "Kid Xiong"]` . The second column is of `Long type` , which is the current 13-digit timestamp is used as input for functional verification and testing of `seatunnel` .

:::

## Options

<Tabs
    groupId="engine-type"
    defaultValue="spark"
    values={[
        {label: 'Spark', value: 'spark'},
        {label: 'Flink', value: 'flink'},
    ]}>
<TabItem value="spark">

:::note

These options is for Spark:`FakeStream`, and Spark:`Fake` do not have any options

:::

| name           | type   | required | default value |
| -------------- | ------ | -------- | ------------- |
| content        | array  | no       | -             |
| rate           | number | yes      | -             |
| common-options | string | yes      | -             |

### content [array]

List of test data strings

### rate [number]

Number of test cases generated per second

</TabItem>
<TabItem value="flink">

| name           | type   | required | default value |
| -------------- | ------ | -------- | ------------- |
| parallelism    | `Int`  | no       | -             |
| common-options |`string`| no       | -             |

### parallelism [`Int`]

The parallelism of an individual operator, for Fake Source Stream

</TabItem>
</Tabs>

### common options [string]

Source plugin common parameters, please refer to [Source Plugin](common-options.mdx) for details

## Examples

<Tabs
    groupId="engine-type"
    defaultValue="spark"
    values={[
        {label: 'Spark', value: 'spark'},
        {label: 'Flink', value: 'flink'},
    ]}>
<TabItem value="spark">

### Fake

```bash
Fake {
    result_table_name = "my_dataset"
}
```

### FakeStream

```bash
fakeStream {
    content = ['name=ricky&age=23', 'name=gary&age=28']
    rate = 5
}
```

The generated data is as follows, randomly extract the string from the `content` list

```bash
+-----------------+
|raw_message      |
+-----------------+
|name=gary&age=28 |
|name=ricky&age=23|
+-----------------+
```

</TabItem>
<TabItem value="flink">

### FakeSourceStream

```bash
source {
    FakeSourceStream {
        result_table_name = "fake"
        field_name = "name,age"
        //mock_data_enable = true
        //mock_data_bounded = true
        //mock_data_schema = [
        //{
        //    name = "name",
        //    type = "string"
        //    mock_config = { //see https://github.com/jsonzou/jmockdata, next is all kind config, not all configurations are required
        //       byte_range = [0,127]  // byte value will mock range between 0 and 127.
        //       boolean_seed = [true, true, false] // boolean  value will mock random in this array.
        //       char_seed = ['a','b','c'] // char value will mock random in this array.
        //       date_range = ["1970-01-01", "2100-12-31"] // date value will mock random in this array.
        //       decimal_scale = 2 // decimal's scale is 2
        //       double_range = [0.0, 10000.0] // double value will mock range between 0.0 and 10000.0.
        //       float_range = [0.0, 10000.0] // float value will mock range between 0.0 and 10000.0.
        //       int_range = [0, 100] // int value will mock range between 0 and 100.
        //       long_range = [0, 100000] // long value will mock range between 0 and 100000.
        //       number_regex = "[1-9]{1}\\d?" // number value will mock use the regex template.
        //       time_range = [0,24,0,60,0,60] // time value will mock in [0-24]:[0-60]:[0-60]
        //       size_range = [6,10] // mock data length.
        //       string_regex = "[a-z0-9]{5,15}\\@\\w{3,5}\\.[a-z]{2,3}" // string value will mock use the regex template.
        //       string_seed = ["Gary", "Ricky Huo", "Kid Xiong"]   // string value will mock in this array. It like mock_data_enable = false.
        //    }
        //},
        //{
        //    name = "age",
        //    type = "int"
        //    mock_config = {
        //       int_range = [20,30]
        //    }
        //}
        //]
        //mock_data_size = 300 // data will mock until count 300.
        //mock_data_interval = 1 // data will mock interval 1 second.
    }
}
```

### FakeSource

```bash
source {
    FakeSource {
        result_table_name = "fake"
        field_name = "name,age"
    }
}
```

</TabItem>
</Tabs>