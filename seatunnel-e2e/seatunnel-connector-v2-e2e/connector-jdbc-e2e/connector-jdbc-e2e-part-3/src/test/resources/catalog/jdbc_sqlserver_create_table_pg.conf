#
# Licensed to the Apache Software Foundation (ASF) under one or more
# contributor license agreements.  See the NOTICE file distributed with
# this work for additional information regarding copyright ownership.
# The ASF licenses this file to You under the Apache License, Version 2.0
# (the "License"); you may not use this file except in compliance with
# the License.  You may obtain a copy of the License at
#
#    http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#

env {
 "job.mode"=STREAMING
 "job.name"="SeaTunnel_Job"
 }
 source {
   SqlServer-CDC {
    "startup.mode"=INITIAL
    parallelism=1
    format=DEFAULT
    "connection.pool.size"=20
    "incremental.parallelism"=1
    "snapshot.split.size"=8096
    "stop.mode"=NEVER
    "snapshot.fetch.size"=1024
    "connect.max-retries"=3
    "connect.timeout.ms"=30000
    "result_table_name"=Table9626132099904
    "dag-parsing.mode"=MULTIPLEX
    catalog {
        factory=SqlServer
    }
    database-names=[
        test
    ]
    table-names=[
        "test.dbo.AllDataTypes_copy1"
    ]
    username=testUser
    password="testPassword"
    base-url="jdbc:sqlserver://sqlserver:1433;database=test"
    server-time-zone=UTC
}
 }
 transform {
 }
 sink {
  Jdbc {
       catalog {
           factory=Postgres
           base-url="jdbc:postgresql://postgres:5432/pg"
           username="testUser"
           password="testPassword"
           schema="public"
           tableSuffix="_pg"
       }
      "is_primary_key_updated"="true"
      "batch_size"=1000
      "transaction_timeout_sec"=-1
      "max_retries"="2"
      "support_upsert_by_query_primary_key_exist"="false"
      "connection_check_timeout_sec"=30
      "max_commit_attempts"=3
      "auto_commit"="true"
      "batch_interval_ms"=1000
      "is_exactly_once"="false"
      "source_table_name"=Table9608249742656
      "generate_sink_sql"=true
      database="pg"
      password="testPassword"
      driver="org.postgresql.Driver"
      user="testUser"
      url="jdbc:postgresql://postgres:5432/pg"
  }
 }